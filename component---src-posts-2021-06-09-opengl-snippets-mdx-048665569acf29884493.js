(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"2SVH":function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return b})),t.d(a,"default",(function(){return m}));var n=t("zLVn"),s=(t("q1tI"),t("7ljp")),c=t("8hLB"),b={},o={_frontmatter:b},p=c.a;function m(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(s.b)(p,Object.assign({},o,t,{components:a,mdxType:"MDXLayout"}),Object(s.b)("p",null,"Starting to refresh my OpenGL brain and figure a good chance to make tool sharp to survive in wild OpenGL Programming... TL;DR ",Object(s.b)("a",Object.assign({parentName:"p"},{href:""}),"code")),Object(s.b)("h1",null,"Why?"),Object(s.b)("p",null,"I know you should have a framework or some engine anyway. But what if not or you need to do some low level API hack? You probably need to anyway find a toy example to get started."),Object(s.b)("p",null,"Another point is: graphics API is designed as driver friendly (you can even say unreadable). To do a simple task, you need very strange function combination (e.g. genbuffer, bindbuffer ...) and you need to handle all the states that you probably cannot remember all."),Object(s.b)("p",null,"So the snippets are the quick resources to go when you run into these cases and they can also be a good tutorial for beginners."),Object(s.b)("h1",null,"Prerequisites"),Object(s.b)("p",null,"Install your favorite snippets engine e.g. coc-snippets and point it to your customized snippets like I did ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/daizeng1984/dotfiles/blob/master/neovim/nvim/my-snippets/UltiSnips/cpp.snippets"}),"here"),". Setting up a working environment can be frustrating. If you work in ","*","nix, I got your back. Just install ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://nixos.org/"}),"Nix")," and ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://direnv.net/"}),"direnv"),". Works best for Linux machine though. For more details, see my previous ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"./2020-12-10-nix-power-2"}),"post"),". BTW, my script even help generate the glad version based on your need. Feel free to make changes to ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"default.nix"),"."),Object(s.b)("h1",null,"GL Snippets"),Object(s.b)("h2",null,"Header"),Object(s.b)("p",null,"I meant survive in wild but not naked. You need these almost must-have headers. With GLFW, you don't need to worry about GL context binding to native window. With GLAD you care less about OGL function pointers. GLM saves you some scratch work to implement e.g. vec2."),Object(s.b)("div",{className:"gatsby-highlight","data-language":"cpp"},Object(s.b)("pre",Object.assign({parentName:"div"},{className:"language-cpp"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-cpp"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Generate your own header https://github.com/Dav1dde/glad/tree/glad2"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token macro property"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive-hash"}),"#"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive keyword"}),"include")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"<glad/glad.h>")),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token macro property"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive-hash"}),"#"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive keyword"}),"define")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token expression"}),"GLFW_INCLUDE_NONE")),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token macro property"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive-hash"}),"#"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive keyword"}),"include")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"<GLFW/glfw3.h>")),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token macro property"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive-hash"}),"#"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive keyword"}),"include")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"<glm/glm.hpp>")),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token macro property"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive-hash"}),"#"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive keyword"}),"define")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token expression"}),"STB_IMAGE_IMPLEMENTATION")),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token macro property"}),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive-hash"}),"#"),Object(s.b)("span",Object.assign({parentName:"span"},{className:"token directive keyword"}),"include")," ",Object(s.b)("span",Object.assign({parentName:"span"},{className:"token string"}),"<stb_image.h>"))))),Object(s.b)("h2",null,"Basic Assets"),Object(s.b)("h3",null,"Geometry"),Object(s.b)("p",null,"Would you like a triangle?"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"cpp"},Object(s.b)("pre",Object.assign({parentName:"div"},{className:"language-cpp"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-cpp"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," GLfloat triangleVertex",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"{"),"\n   ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n   ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n   ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"  ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"}"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("p",null,"Cube, and teapot are also in snippets, but a bit wordy to show here."),Object(s.b)("h3",null,"Shader"),Object(s.b)("p",null,"For exmaple, to quickly grab a working embedded shader is very handy if you just wanted to draw A SINGLE TRIANGLE!"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"cpp"},Object(s.b)("pre",Object.assign({parentName:"div"},{className:"language-cpp"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-cpp"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"const")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"char"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"*")," vertexShader ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"="),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"#version ${1:400}\\n"'),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"in vec3 vp;"'),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"void main() {"'),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"  gl_Position = vec4(vp, 1.0);"'),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"}"'),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("p",null,"and of course there are fragment shader as well."),Object(s.b)("h2",null,"Push/Pop States"),Object(s.b)("p",null,"API leaves for you to manage all states, my dear. Let's finish it with one blow by enumerating all states possible. Cause you never know which state is giving you black screen ðŸ¤¦. It's rocket launcher solution: no time for these little hide & see gamesðŸ˜†!"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"cpp"},Object(s.b)("pre",Object.assign({parentName:"div"},{className:"language-cpp"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-cpp"}),"GLint last_program",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_CURRENT_PROGRAM",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_program",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_texture",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_TEXTURE_BINDING_2D",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_texture",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_array_buffer",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_ARRAY_BUFFER_BINDING",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_array_buffer",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_element_array_buffer",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_ELEMENT_ARRAY_BUFFER_BINDING",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_element_array_buffer",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_vertex_array",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_VERTEX_ARRAY_BINDING",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_vertex_array",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_blend_src",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_BLEND_SRC",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_blend_src",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_blend_dst",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_BLEND_DST",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_blend_dst",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_blend_equation_rgb",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_BLEND_EQUATION_RGB",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_blend_equation_rgb",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_blend_equation_alpha",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_BLEND_EQUATION_ALPHA",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"last_blend_equation_alpha",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLint last_viewport",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"["),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"4"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"]"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGetIntegerv"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_VIEWPORT",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," last_viewport",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLboolean last_enable_blend ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glIsEnabled"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_BLEND",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLboolean last_enable_cull_face ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glIsEnabled"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_CULL_FACE",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLboolean last_enable_depth_test ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glIsEnabled"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_DEPTH_TEST",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\nGLboolean last_enable_scissor_test ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glIsEnabled"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_SCISSOR_TEST",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("h2",null,"*","*","O"),Object(s.b)("p",null,"VBO, VAO, EBO, FBO API is unhuman. But here a simple explanation: VBO is just buffer to store vertex, FBO is buffer to store pixels, while VAO is wrapper to manage VBO. Basically they are a bunch of gen and bind functions. Just checkout e.g. ",Object(s.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/daizeng1984/dotfiles/blob/8684261b1a01835758ec3cb9179587ef7a1ef7d6/neovim/nvim/my-snippets/UltiSnips/cpp.snippets#L92-L117"}),"snippets"),"."),Object(s.b)("h2",null,"Image & Texture"),Object(s.b)("p",null,"To test a simple image..."),Object(s.b)("div",{className:"gatsby-highlight","data-language":"cpp"},Object(s.b)("pre",Object.assign({parentName:"div"},{className:"language-cpp"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-cpp"}),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"int")," width",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," height",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," channel",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"unsigned")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"char"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"*")," image ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"stbi_load"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"image.png"'),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"width",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"height",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"channel",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," STBI_rgb",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// or STBI_rgb_alpha"),"\n\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"if"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"image ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"==")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token keyword"}),"nullptr"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"\n    std",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),"cout ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<<")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token string"}),'"Cannot load image"')," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"<<")," std",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),"endl",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glGenTextures"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"&"),"textureId",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glBindTexture"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_TEXTURE_2D",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," textureId",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glTexParameteri"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"(")," GL_TEXTURE_2D",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_TEXTURE_WRAP_S",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_CLAMP_TO_EDGE ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glTexParameteri"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"(")," GL_TEXTURE_2D",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_TEXTURE_WRAP_T",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_CLAMP_TO_EDGE ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glTexParameteri"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_TEXTURE_2D",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_TEXTURE_MIN_FILTER",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_LINEAR",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"//GL_LINEAR_MIPMAP_LINEAR "),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glTexParameteri"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_TEXTURE_2D",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_TEXTURE_MAG_FILTER",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_LINEAR",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glTexImage2D"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_TEXTURE_2D",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," channel ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"==")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"3")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?")," GL_RGB ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," GL_RBGA",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," w",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," h",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," channel ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"==")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"3")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"?")," GL_RGB ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),":")," GL_RBGA",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," GL_UNSIGNED_BYTE",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," image",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"//glGenerateMipmap( GL_TEXTURE_2D); // generate mipmap if we use that"),"\n\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"glBindTexture"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"GL_TEXTURE_2D",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"stbi_image_free"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"image",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("h2",null,"MVP"),Object(s.b)("p",null,"Model View Projection refresher"),Object(s.b)("div",{className:"gatsby-highlight","data-language":"cpp"},Object(s.b)("pre",Object.assign({parentName:"div"},{className:"language-cpp"}),Object(s.b)("code",Object.assign({parentName:"pre"},{className:"language-cpp"}),"glm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),"mat4 Projection ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," glm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"perspective"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"glm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"radians"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"fovdegree",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," aspectRatio",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," near",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," far",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Or, for an ortho camera :"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"//glm::mat4 Projection = glm::ortho(x0, x1, y0, y1, z0, z1); // In world coordinates"),"\n  \n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// View"),"\nglm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),"mat4 View ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," glm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"lookAt"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),"\n    glm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"vec3"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"-"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Camera"),"\n    glm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"vec3"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),",")," ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Lookat"),"\n    glm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"vec3"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),","),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"0"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),"  ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Up"),"\n    ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n  \n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// Model"),"\nglm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),"mat4 Model ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," glm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"mat4"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),"("),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token number"}),"1.0f"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),")"),Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token comment"}),"// MVP"),"\nglm",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"::"),"mat4 mvp ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"=")," Projection ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"*")," View ",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token operator"}),"*")," Model",Object(s.b)("span",Object.assign({parentName:"code"},{className:"token punctuation"}),";")))),Object(s.b)("h1",null,"Test Our Snippets"),Object(s.b)("h2",null,"Case 1"),Object(s.b)("p",null,"To draw a triangle to see if opengl snippet works. First ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"glheader")," to include everthting and then get some globals with shader ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"glsimplevsfs"),", and geometry ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"gltriangle"),". Then create main function body with ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"glhellworld")," and fill the intialization code with ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"glvbo"),", then ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"glvao")," and then in the main loop do ",Object(s.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"gldraw"),". Totally time spent ~1 min if most variables are kept."),Object(s.b)("h2",null,"Case 2"),Object(s.b)("p",null,"TODO"),Object(s.b)("h1",null,"Vulkan Snippets"),Object(s.b)("p",null,"Ok, OpenGL is not that bad. Let's crack Vulkan next time!"))}m.isMDXComponent=!0},"8hLB":function(e,a,t){"use strict";var n=t("q1tI"),s=t.n(n),c=(t("Wbzz"),t("Bl7J"));a.a=function(e){return s.a.createElement(c.a,Object.assign({},e,{icon:"post"}))}}}]);
//# sourceMappingURL=component---src-posts-2021-06-09-opengl-snippets-mdx-048665569acf29884493.js.map