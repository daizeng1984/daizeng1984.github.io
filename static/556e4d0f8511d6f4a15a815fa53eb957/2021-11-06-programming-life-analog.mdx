---
category: post
title:  "Design from Life"
date:   "2021-11-06"
size: 4
visible: 0
---

Just a bit of funny thinking for basic programming design concept...

# Communication: Callback vs Message
Callback is mostly like using a pager: brutally you got paged everytime when client is trying to find you. It's efficient because it's simply a function call. Sometime, you are not ready! For example, early in the morning, you are basically naked and not initialized and callback comes... you throw Exception at them!

Therefore, you should just treat any callback as stateless handler. Machine with no soul... Do any job at any time by taking the resources ready and return the results.

Some game engine is using callback to human (components) just because they are simply efficient and pager are ususally organized into batch by batch. For example, they set an order of expected call (life cycle) and ask every components to follow the rule. 

A better way might be, if efficiency is not concerns, using message box to allow some autonomy of components, whom we call them **actor**. We assume each actor is nice human being and proactively doing their job. They can do at their own pace. The bad part is sometime you don't have control over their behavior. They can ignore your order/call. 

Because of the quite human/decoupled design, **actor** framework can handle complicate concurrency. With better communication tool (message system) and nice remote working device setup, you can actually achieve quite some efficiency by allowing them permanently remote. [Actor framework](https://github.com/actor-framework/actor-framework) is like this.

For more about reactive and actor framework, consult [here](https://medium.com/@manish.c.ghildiyal/reactive-architecture-and-actor-model-a38214a404a4). They are ideas used in distributed system for years (haskell etc.).

# Resource Lock: mutex vs 
Think of it as portable restroom problems ðŸ˜…:

In simplest case e.g. you/one person, just enter, lock, use, unlock, and leave for others. It's totally fine if it's just for you or a not-so-hot place that has few visitors.

# Exception handling

# Stateful vs Stateless
