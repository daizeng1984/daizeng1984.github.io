(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"25UU":function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return o})),a.d(t,"default",(function(){return r}));var n=a("zLVn"),i=(a("q1tI"),a("7ljp")),s=a("8hLB"),o={},c={_frontmatter:o},l=s.a;function r(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.b)(l,Object.assign({},c,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Setting up various ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Integrated_development_environment"}),"IDE"),"-like autocompleter in vim is painful until I met ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/autozimu/LanguageClient-neovim"}),"LanguageClient-neovim"),"."),Object(i.b)("h1",null,"First, Disclaimer"),Object(i.b)("p",null,"I've been using Shougo's completion plugin ever since neocomplete (during the ancient vim time). Now in neovim, it has its ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/Shougo/deoplete.nvim"}),"dark")," form. If you are using other completion plugins like ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/ncm2/ncm2"}),"ncm2"),", this post might not be the case."),Object(i.b)("h1",null,Object(i.b)("a",Object.assign({parentName:"h1"},{href:"https://en.wikipedia.org/wiki/Language_Server_Protocol"}),"Language Server Protocol")),Object(i.b)("p",null,"If you ask what changed my impression of Microsoft, I'd answer this Language Server Protocol as one. From the ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://microsoft.github.io/language-server-protocol/implementors/servers/"}),"official page"),", you could see so far many programming languages and ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Domain-specific_language"}),"DSL")," are onboard! Even though ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://code.visualstudio.com/"}),"vscode")," still takes first class seat, I'm sure we'll see more powerful standalone servers coming up. Wow, you could even get a server for ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"http://nehe.gamedev.net/article/glsl_an_introduction/25007/"}),"GLSL"),". No complaints anymore!"),Object(i.b)("h1",null,"So Goodbye? ",Object(i.b)("a",Object.assign({parentName:"h1"},{href:"http://eclim.org/"}),"Eclim"),", ",Object(i.b)("a",Object.assign({parentName:"h1"},{href:"http://ternjs.net/"}),"Tern.js")," and ..."),Object(i.b)("p",null,"That means whenever I need to work on a new language in vim, I no longer need to search that particular ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/Shougo/deoplete.nvim"}),"deoplete")," plugins and make it work after hours due to dependencies and .vimrc configuration. Installing completion engine dependencies is tedious: I still remember ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/carlitux/deoplete-ternjs"}),"tern.js")," was not friendly and ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"http://eclim.org/vim/code_completion.html"}),"Eclim")," bundled with the huge ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://www.eclipse.org/"}),"Eclipse")," GUI family sale is quite tough. They lack of a universal language protocol standard. Even you succeed to make it work, after, you also need to weak key bindings for each of them."),Object(i.b)("p",null,"Now with LanguageClient-neovim, I just install the servers (Note: not all of them are out of box but doable and only one time effort) and tell vim where their binaries are. I have freedom to choose any servers I like and freedom to pick up any editors/clients. I've tried out 4 languages so far: Java, Javascript, C++ and Python. They are working amazingly well. Let's see how much work to happiness:"),Object(i.b)("h2",null,"Java"),Object(i.b)("p",null,"From the document, you feel you have to build either ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/eclipse/eclipse.jdt.ls/"}),"eclipse.jdt")," or ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/georgewfraser/vscode-javac"}),"javac based ls"),". However, for eclipse.jdt they have prebuilt versions to download ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"http://download.eclipse.org/jdtls/milestones/"}),"here"),"! So download and ",Object(i.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"untar"),", and then follow the ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/autozimu/LanguageClient-neovim/wiki/Java#user-content-installation"}),"script"),"."),Object(i.b)("h2",null,"Python"),Object(i.b)("p",null,"Simply run "),Object(i.b)("div",{className:"gatsby-highlight","data-language":"bash"},Object(i.b)("pre",Object.assign({parentName:"div"},{className:"language-bash"}),Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"pip ",Object(i.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"install")," python-language-server"))),Object(i.b)("p",null,"figure out your ",Object(i.b)("code",Object.assign({parentName:"p"},{className:"language-text"}),"pyls")," binary path and you are done!"),Object(i.b)("h2",null,"Javascript"),Object(i.b)("p",null,"Same as Python, you just need to "),Object(i.b)("div",{className:"gatsby-highlight","data-language":"bash"},Object(i.b)("pre",Object.assign({parentName:"div"},{className:"language-bash"}),Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),Object(i.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"npm")," ",Object(i.b)("span",Object.assign({parentName:"code"},{className:"token function"}),"install")," javascript-typescript-langserver"))),Object(i.b)("p",null,"and find the binaries."),Object(i.b)("h2",null,"C++"),Object(i.b)("p",null,"If you choose clang (","[which you probably do]","({% post_url 2018-08-11-clang-llvm %})), you just need to install clang with extra tools in box as in this ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/autozimu/LanguageClient-neovim/wiki/Clangd"}),"tutorial"),". Although signature has an ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/autozimu/LanguageClient-neovim/issues/379"}),"issue"),", but I believe community will solve it soon."),Object(i.b)("h1",null,"To Sum Up"),Object(i.b)("p",null,"After installing these servers, you just need a few lines in your vim plugins settings like ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/daizeng1984/dotfiles/blob/3b4f4473f17575eae54e554e48ba9ef78ccc1a44/neovim/nvim/config/plugins.vimrc#L257"}),"here"),"."),Object(i.b)("p",null,"Easy piece, right? No?! Okay, if you enjoy a bit more automation, I have a ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/daizeng1984/dotfiles/blob/experimental/misc/installNeovimLanguageServers.sh"}),"script")," to deploy servers in my dotfile environment, you could adapt and make it yours."),Object(i.b)("h1",null,"Other Finding"),Object(i.b)("p",null,"At this stage, even not fully convinced but I found ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/neoclide/coc.nvim"}),"coc.nvim")," as yet another completion plugin seems to adapt all vscode language-service extensions to vim. If you like more vscode like features and don't have time to install each individual server, you might consider giving it a try. It seems to be still in heavy development. I chose to give it a little bit more time until I get tired of this LanguageClient plugin."),Object(i.b)("p",null,"Meanwhile, while we wait, neovim is working on more native lsp support ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/neovim/neovim/pull/6856"}),"here"),"."))}r.isMDXComponent=!0},"8hLB":function(e,t,a){"use strict";var n=a("q1tI"),i=a.n(n),s=(a("Wbzz"),a("Bl7J"));t.a=function(e){return i.a.createElement(s.a,Object.assign({},e,{icon:"post"}))}}}]);
//# sourceMappingURL=component---src-posts-2018-11-05-language-server-protocol-mdx-c73921d3f9009ccd5bac.js.map